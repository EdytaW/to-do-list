#!/usr/bin/env node
'use strict';

var _path = require('path');

var _path2 = _interopRequireDefault(_path);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

if (process.argv.length < 4) {
    throw new Error('Usage: start <tasks file> <task name>');
}

var tasksPath = _path2.default.resolve(process.argv[2]);
var taskName = process.argv[3];
var tasks = require(tasksPath);

if (typeof tasks[taskName] !== 'function') {
    throw new Error('Can\'t find task "' + taskName + '"');
}

tasks[taskName]().catch(function () {
    process.exit(1);
});